\# Hello WASM (Rust Frontend)



A minimal \*\*Hello World\*\* web page using \*\*Rust compiled to WebAssembly (WASM)\*\*.  

This project demonstrates how to run Rust code directly in the browser and update the DOM without any frontend framework.



✅ Rust → WASM via `wasm-pack`  

✅ Runs in any modern browser  

✅ No React/Yew/Leptos/etc (pure `wasm-bindgen` + `web-sys`)



---



\## Preview



When running locally, the page shows:



> \*\*Hello World! (Rust + WASM)\*\*



---



\## Project Structure



```



hello-wasm/

Cargo.toml

src/

lib.rs

pkg/                 # generated by wasm-pack build

www/

index.html

pkg/               # copy of ../pkg (to make local server work)



````



\*\*Important:\*\*  

Browsers cannot import modules outside the served folder.  

That is why `pkg/` must be copied into `www/pkg/` when serving only the `www/` folder.



---



\## Requirements



Install the following:



\### 1) Rust (stable)

Install Rust from:

\- https://www.rust-lang.org/tools/install



Check:

```bash

rustc --version

cargo --version

````



\### 2) wasm-pack



Install:



```bash

cargo install wasm-pack

```



Check:



```bash

wasm-pack --version

```



\### 3) Python (for local server)



Any Python 3 works:



```bash

python --version

```



> Alternative servers: `npx serve`, `http-server`, `bun`, etc.



---



\## Dependencies



This project uses:



\* \[`wasm-bindgen`](https://github.com/rustwasm/wasm-bindgen)

\* \[`web-sys`](https://crates.io/crates/web-sys)



---



\## Build Instructions



From the project root:



```bash

wasm-pack build --target web

```



This generates the `pkg/` directory at project root.



---



\## Fix: Make it Work with a Local Server (Recommended Setup)



When serving only the `www/` directory, the browser must access the generated JS/WASM files inside that directory too.



\### Copy pkg → www/pkg



\*\*Windows (CMD / PowerShell):\*\*



```bat

xcopy /E /I /Y pkg www\\pkg

```



\*\*macOS / Linux / Git Bash:\*\*



```bash

rm -rf www/pkg

cp -r pkg www/pkg

```



---



\## Run Locally



\### Option A (Recommended): Serve `www/`



```bash

cd www

python -m http.server 8080

```



Open:



\* \[http://localhost:8080](http://localhost:8080)



---



\## Source Code Explanation



\### Rust entry point (`src/lib.rs`)



The program uses:



```rust

\#\[wasm\_bindgen(start)]

pub fn start() -> Result<(), JsValue> { ... }

```



This function is automatically executed when WASM loads in the browser.



It:



1\. Fetches `window` and `document`

2\. Finds the HTML element `#app`

3\. Replaces its content with `Hello World! (Rust + WASM)`



---



\## HTML Explanation (`www/index.html`)



The important part:



```html

<script type="module">

&nbsp; import init from "./pkg/hello\_wasm.js";

&nbsp; init();

</script>

```



\* The `init()` function loads `hello\_wasm\_bg.wasm`

\* After initialization, Rust `#\[wasm\_bindgen(start)]` runs automatically



---



\## Troubleshooting



\### ✅ Page loads but WASM doesn't run



Check the browser console (F12). Most likely:



\* incorrect import path

\* `pkg/` is not inside `www/`



---



\### ❌ `404 /pkg/hello\_wasm.js`



This means your server can't see the `pkg/` folder.



Fix:



\* Ensure `www/pkg/hello\_wasm.js` exists

\* Ensure your import uses:



```js

import init from "./pkg/hello\_wasm.js";

```



---



\### ❌ "Failed to execute 'compile' on 'WebAssembly': incorrect response MIME type"



This happens if the server does not serve `.wasm` correctly.



Solution:



\* use a proper HTTP server (Python server is fine)

\* don’t open HTML via `file://...`



---



\## Clean + Rebuild



If you want to regenerate everything:



```bash

cargo clean

wasm-pack build --target web

```



Then copy pkg again:



```bat

xcopy /E /I /Y pkg www\\pkg

```



---



\## Next Steps / Improvements



Ideas to expand this project:



\* Add a button and attach click events (Rust event listeners)

\* Create a counter app

\* Add styling + layout

\* Add routing

\* Move to a Rust UI framework:



&nbsp; \* Yew

&nbsp; \* Leptos

&nbsp; \* Dioxus

\* Bundle with Vite / Webpack



---



\## License



MIT License (or your preferred license)

